
ScreenManager:
    EntryScreen:
        name: "entry"
    CalculatorScreen:
        name: "calculator"
    RealVaultScreen:
        name: "vault"


<EntryScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 20

        Label:
            text: "SYSTEM AUTHENTICATION"
            font_size: "22sp"

        TextInput:
            id: auth_input
            password: True
            multiline: False
            font_size: "18sp"

        Button:
            text: "AUTHORIZE"
            on_press: root.check_password(auth_input.text)


<CalculatorScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        TextInput:
            id: display
            text: '0'
            font_size: '40sp'
            readonly: True
            halign: 'right'

        GridLayout:
            cols: 4
            spacing: 5

            Button:
                text: "7"
                on_press: display.text = self.text if display.text == '0' else display.text + self.text
            Button:
                text: "8"
                on_press: display.text += self.text
            Button:
                text: "9"
                on_press: display.text += self.text
            Button:
                text: "+"

            Button:
                text: "AC"
                on_press: display.text = '0'
            Button:
                text: "="
                on_press: root.process_calc(display.text)
            Button:
                text: "VAULT"
                on_press: root.go_vault()


<RealVaultScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 30
        spacing: 20

        Label:
            text: "SECURE VAULT ACCESS GRANTED"
            font_size: "20sp"

        Button:
            text: "TRIGGER GPS SOS"
            on_press: root.trigger_sos()